<script setup>
import Layout from '../components/Layout.vue';
import { RouterLink } from 'vue-router'
import RecentProblems from '../components/RecentProblems.vue';
import HoursPopular from '../components/HoursPopular.vue';
import Calendar from '../components/Calendar.vue';
import Strip from '../components/NextStrip.vue';
import { sections, setter_auth } from '../localStorage';
</script>

<template>
  <Layout>
    <template v-slot:menu>
      <router-link v-if="setter_auth" :to="{ name: 'add_problem' }" class="button">‚ûï</router-link>
    </template>
    <template v-slot:content>
      <div>
        <div class="unhidden">
          <p class="deprecate">‚ö†Ô∏è fistbump is closing down ‚ö†Ô∏è</p>
          <p>it proved too difficult to get people to add problems to the app manually (and it is not sustainable for me to keep adding all the problems).</p>
          <p style="text-align:right;">ü§úü§õ JD</p>
        </div>
        <Calendar v-if="sections.includes('calendar')"></Calendar>
        <HoursPopular v-if="false"></HoursPopular>
        <Strip v-if="sections.includes('strip')"></Strip>
        <RecentProblems v-if="sections.includes('problems')"></RecentProblems>
      </div>
    </template>
  </Layout>
</template>

<style scoped>
.hidden {
  display: none;
}
.deprecate {
  color: red;
}
.welcome {
  background-color: #7FDBFF;
  padding: 1.5em;
}

dt {
  text-decoration: underline;
}
</style>